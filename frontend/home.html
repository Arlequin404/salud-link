<!DOCTYPE html>
<html>
<head>
    <title>Salud-Link</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1 id="welcome"></h1>
    <button onclick="logout()">Cerrar sesion</button>

    <div class="tabs">
        <button class="tablink" onclick="openTab('actualizar')">Actualizar</button>
        <button class="tablink" onclick="openTab('crear')">Crear</button>
    </div>

    <div id="actualizar" class="tabcontent">
        <input type="text" id="searchCedula" placeholder="Buscar por cédula" oninput="filterUsers()" />
        <select id="filterRole" onchange="filterUsers()">
            <option value="">Todos</option>
            <option value="admin">Admin</option>
            <option value="doctor">Doctor</option>
            <option value="paciente">Paciente</option>
        </select>
        <table id="userTable">
            <thead>
                <tr>
                    <th>Cedula</th><th>Nombre</th><th>Email</th><th>Rol</th><th>Acciones</th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>

        <div id="edit-form-container" style="display:none; margin-top:20px;">
            <h3>Editar Usuario</h3>
            <form id="editUserForm">
                <input type="hidden" id="edit-id" />
                <input type="text" id="edit-name" placeholder="Nombre" required /><br />
                <input type="text" id="edit-cedula" placeholder="Cedula" required /><br />
                <input type="email" id="edit-email" placeholder="Correo" required /><br />
                <input type="text" id="edit-phone" placeholder="Telefono" /><br />
                <input type="date" id="edit-birthdate" placeholder="Fecha de nacimiento" /><br />
                <select id="edit-gender" required>
                    <option value="">Selecciona género</option>
                    <option value="M">M</option>
                    <option value="F">F</option>
                </select><br />
                <input type="text" id="edit-city" placeholder="Ciudad" /><br />
                <input type="text" id="edit-address" placeholder="Direccion" /><br />
                <select id="edit-role" required>
                    <option value="paciente">Paciente</option>
                    <option value="doctor">Doctor</option>
                    <option value="admin">Admin</option>
                </select><br />
                <button type="submit">Guardar</button>
                <button type="button" onclick="cancelEdit()">Cancelar</button>
            </form>
        </div>
    </div>

    <div id="crear" class="tabcontent">
        <h3>Crear Usuario</h3>
        <form id="createForm">
            <input type="text" id="name" placeholder="Nombre" required />
            <input type="text" id="cedula" placeholder="Cedula" required />
            <input type="email" id="new_email" placeholder="Correo" required />
            <input type="password" id="new_password" placeholder="Contraseña" required />
            <input type="text" id="phone" placeholder="Telefono" />
            <input type="date" id="birthdate" placeholder="Fecha de nacimiento" />
            <select id="gender" required>
                <option value="">Selecciona género</option>
                <option value="M">M</option>
                <option value="F">F</option>
            </select>
            <input type="text" id="city" placeholder="Ciudad" />
            <input type="text" id="address" placeholder="Direccion" />
            <select id="role">
                <option value="paciente">Paciente</option>
                <option value="doctor">Doctor</option>
                <option value="admin">Admin</option>
            </select>
            <button type="submit">Crear</button>
        </form>
    </div>

    <script src="main.js"></script>
</body>
</html>
